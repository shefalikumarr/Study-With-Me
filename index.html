<!DOCTYPE html>
<html>

<head>
  <title>Study With Me</title>
  <link rel="stylesheet" href="style.css">
  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@100&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:ital,wght@0,100;1,100&display=swap" rel="stylesheet">

  <!-- google signin -->
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <meta name="google-signin-client_id" content="726413645124-5a00kpt4p0r1fk1k67hb4r6ah3m69j25.apps.googleusercontent.com">
</head>

<body>

  <!-- logo -->
  <div>
       <img class="dark-logo" src="images/dark-logo.png" alt="logo.png">
   </div>


  <!-- text -->
  <h1 class="login" style="text-align:center center;">study with me.</h1>
  <p>find people to suffer with</p>

  <!-- buttons for sign in and sign up -->
  <div id="container">
    <!-- <button type="button signup" id="buttonsignup" style="margin-right: 20px;">sign up</button>
    <button type="button signin" id="buttonsignin" style="margin-left: 20px;">sign in</button>
  </div> -->

  <!-- google sign in and authorization -->
  <div class="g-signin2" data-onsuccess="onSignIn" style="position: center;"></div>
  <div id="my-signin2" style="position: center;"></div>
  <script>
  function onSignIn(googleUser) {
        // Useful data for your client-side scripts:
        var profile = googleUser.getBasicProfile();
        console.log("ID: " + profile.getId()); // Don't send this directly to your server!
        console.log('Full Name: ' + profile.getName());
        console.log('Given Name: ' + profile.getGivenName());
        console.log('Family Name: ' + profile.getFamilyName());
        console.log("Image URL: " + profile.getImageUrl());
        console.log("Email: " + profile.getEmail());

        // The ID token you need to pass to your backend:
        var id_token = googleUser.getAuthResponse().id_token;
        postAJAX('/server/sign-in', {id_token: id_token})
        .then(function(user) {
            // The user is now signed in on the server too
            // and the user should now have a session cookie
            // for the whole site.
            // document.location.href = '/dashboard/' + user.username
            document.location.href = https://shefalikumarr.github.io/Study-With-Me/signup.html
        })


      };
    function onSuccess(googleUser) {
      console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
      <meta http-equiv="refresh" content="0; url='https://shefalikumarr.github.io/Study-With-Me/signup.html'" />

    }

    function onFailure(error) {
      console.log(error);
    }

    function renderButton() {
      gapi.signin2.render('my-signin2', {
        'scope': 'profile email',
        'width': 240,
        'height': 50,
        'longtitle': true,
        'theme': 'dark',
        'onsuccess': onSuccess,
        'onfailure': onFailure
      });
    }
  </script>
  <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script> -->
</div>
  <img class="studygirl" src="images/sun.png" alt="lamp.png">

</body>

</html>

<!-- Sign out link for button -->
<!-- <a href="#" onclick="signOut();">Sign out</a>
<script>
  function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      console.log('User signed out.');
    });
  }
</script> -->
